{"version":3,"file":"logicalProperties.umd.js","sources":["../../../node_modules/stylis/src/Enum.js","../../../node_modules/stylis/src/Tokenizer.js","../src/memoize.ts","../src/cssSupports.ts","../src/logicalProperties.ts","../../../node_modules/stylis/src/Serializer.js","../../../node_modules/stylis/src/Utility.js"],"sourcesContent":["export var MS = '-ms-'\nexport var MOZ = '-moz-'\nexport var WEBKIT = '-webkit-'\n\nexport var COMMENT = 'comm'\nexport var RULESET = 'rule'\nexport var DECLARATION = 'decl'\n\nexport var PAGE = '@page'\nexport var MEDIA = '@media'\nexport var IMPORT = '@import'\nexport var CHARSET = '@charset'\nexport var VIEWPORT = '@viewport'\nexport var SUPPORTS = '@supports'\nexport var DOCUMENT = '@document'\nexport var NAMESPACE = '@namespace'\nexport var KEYFRAMES = '@keyframes'\nexport var FONT_FACE = '@font-face'\nexport var COUNTER_STYLE = '@counter-style'\nexport var FONT_FEATURE_VALUES = '@font-feature-values'\n","import {from, trim, charat, strlen, substr, append} from './Utility.js'\n\nexport var line = 1\nexport var column = 1\nexport var length = 0\nexport var position = 0\nexport var character = 0\nexport var characters = ''\n\n/**\n * @param {string} value\n * @param {object} root\n * @param {object?} parent\n * @param {string} type\n * @param {string[]} props\n * @param {object[]} children\n * @param {number} length\n */\nexport function node (value, root, parent, type, props, children, length) {\n\treturn {value: value, root: root, parent: parent, type: type, props: props, children: children, line: line, column: column, length: length, return: ''}\n}\n\n/**\n * @param {string} value\n * @param {object} root\n * @param {string} type\n */\nexport function copy (value, root, type) {\n\treturn node(value, root.root, root.parent, type, root.props, root.children, 0)\n}\n\n/**\n * @return {number}\n */\nexport function char () {\n\treturn character\n}\n\n/**\n * @return {number}\n */\nexport function next () {\n\tcharacter = position < length ? charat(characters, position++) : 0\n\n\tif (column++, character === 10)\n\t\tcolumn = 1, line++\n\n\treturn character\n}\n\n/**\n * @return {number}\n */\nexport function peek () {\n\treturn charat(characters, position)\n}\n\n/**\n * @return {number}\n */\nexport function caret () {\n\treturn position\n}\n\n/**\n * @param {number} begin\n * @param {number} end\n * @return {string}\n */\nexport function slice (begin, end) {\n\treturn substr(characters, begin, end)\n}\n\n/**\n * @param {number} type\n * @return {number}\n */\nexport function token (type) {\n\tswitch (type) {\n\t\t// \\0 \\t \\n \\r \\s whitespace token\n\t\tcase 0: case 9: case 10: case 13: case 32:\n\t\t\treturn 5\n\t\t// ! + , / > @ ~ isolate token\n\t\tcase 33: case 43: case 44: case 47: case 62: case 64: case 126:\n\t\t// ; { } / breakpoint token\n\t\tcase 59: case 123: case 125:\n\t\t\treturn 4\n\t\t// : accompanied token\n\t\tcase 58:\n\t\t\treturn 3\n\t\t// \" ' ( [ opening delimit token\n\t\tcase 34: case 39: case 40: case 91:\n\t\t\treturn 2\n\t\t// ) ] closing delimit token\n\t\tcase 41: case 93:\n\t\t\treturn 1\n\t}\n\n\treturn 0\n}\n\n/**\n * @param {string} value\n * @return {any[]}\n */\nexport function alloc (value) {\n\treturn line = column = 1, length = strlen(characters = value), position = 0, []\n}\n\n/**\n * @param {any} value\n * @return {any}\n */\nexport function dealloc (value) {\n\treturn characters = '', value\n}\n\n/**\n * @param {number} type\n * @return {string}\n */\nexport function delimit (type) {\n\treturn trim(slice(position - 1, delimiter(type === 91 ? type + 2 : type === 40 ? type + 1 : type)))\n}\n\n/**\n * @param {string} value\n * @return {string[]}\n */\nexport function tokenize (value) {\n\treturn dealloc(tokenizer(alloc(value)))\n}\n\n/**\n * @param {number} type\n * @return {string}\n */\nexport function whitespace (type) {\n\twhile (character = peek())\n\t\tif (character < 33)\n\t\t\tnext()\n\t\telse\n\t\t\tbreak\n\n\treturn token(type) > 2 || token(character) > 3 ? '' : ' '\n}\n\n/**\n * @param {string[]} children\n * @return {string[]}\n */\nexport function tokenizer (children) {\n\twhile (next())\n\t\tswitch (token(character)) {\n\t\t\tcase 0: append(identifier(position - 1), children)\n\t\t\t\tbreak\n\t\t\tcase 2: append(delimit(character), children)\n\t\t\t\tbreak\n\t\t\tdefault: append(from(character), children)\n\t\t}\n\n\treturn children\n}\n\n/**\n * @param {number} type\n * @return {number}\n */\nexport function delimiter (type) {\n\twhile (next())\n\t\tswitch (character) {\n\t\t\t// ] ) \" '\n\t\t\tcase type:\n\t\t\t\treturn position\n\t\t\t// \" '\n\t\t\tcase 34: case 39:\n\t\t\t\treturn delimiter(type === 34 || type === 39 ? type : character)\n\t\t\t// (\n\t\t\tcase 40:\n\t\t\t\tif (type === 41)\n\t\t\t\t\tdelimiter(type)\n\t\t\t\tbreak\n\t\t\t// \\\n\t\t\tcase 92:\n\t\t\t\tnext()\n\t\t\t\tbreak\n\t\t}\n\n\treturn position\n}\n\n/**\n * @param {number} type\n * @param {number} index\n * @return {number}\n */\nexport function commenter (type, index) {\n\twhile (next())\n\t\t// //\n\t\tif (type + character === 47 + 10)\n\t\t\tbreak\n\t\t// /*\n\t\telse if (type + character === 42 + 42 && peek() === 47)\n\t\t\tbreak\n\n\treturn '/*' + slice(index, position - 1) + '*' + from(type === 47 ? type : next())\n}\n\n/**\n * @param {number} index\n * @return {string}\n */\nexport function identifier (index) {\n\twhile (!token(peek()))\n\t\tnext()\n\n\treturn slice(index, position)\n}\n",null,null,null,"import {IMPORT, COMMENT, RULESET, DECLARATION} from './Enum.js'\nimport {strlen, sizeof} from './Utility.js'\n\n/**\n * @param {object[]} children\n * @param {function} callback\n * @return {string}\n */\nexport function serialize (children, callback) {\n\tvar output = ''\n\tvar length = sizeof(children)\n\n\tfor (var i = 0; i < length; i++)\n\t\toutput += callback(children[i], i, children, callback) || ''\n\n\treturn output\n}\n\n/**\n * @param {object} element\n * @param {number} index\n * @param {object[]} children\n * @param {function} callback\n * @return {string}\n */\nexport function stringify (element, index, children, callback) {\n\tswitch (element.type) {\n\t\tcase IMPORT: case DECLARATION: return element.return = element.return || element.value\n\t\tcase COMMENT: return ''\n\t\tcase RULESET: element.value = element.props.join(',')\n\t}\n\n\treturn strlen(children = serialize(element.children, callback)) ? element.return = element.value + '{' + children + '}' : ''\n}\n","/**\n * @param {number}\n * @return {number}\n */\nexport var abs = Math.abs\n\n/**\n * @param {number}\n * @return {string}\n */\nexport var from = String.fromCharCode\n\n/**\n * @param {string} value\n * @param {number} length\n * @return {number}\n */\nexport function hash (value, length) {\n\treturn (((((((length << 2) ^ charat(value, 0)) << 2) ^ charat(value, 1)) << 2) ^ charat(value, 2)) << 2) ^ charat(value, 3)\n}\n\n/**\n * @param {string} value\n * @return {string}\n */\nexport function trim (value) {\n\treturn value.trim()\n}\n\n/**\n * @param {string} value\n * @param {RegExp} pattern\n * @return {string?}\n */\nexport function match (value, pattern) {\n\treturn (value = pattern.exec(value)) ? value[0] : value\n}\n\n/**\n * @param {string} value\n * @param {(string|RegExp)} pattern\n * @param {string} replacement\n * @return {string}\n */\nexport function replace (value, pattern, replacement) {\n\treturn value.replace(pattern, replacement)\n}\n\n/**\n * @param {string} value\n * @param {string} value\n * @return {number}\n */\nexport function indexof (value, search) {\n\treturn value.indexOf(search)\n}\n\n/**\n * @param {string} value\n * @param {number} index\n * @return {number}\n */\nexport function charat (value, index) {\n\treturn value.charCodeAt(index) | 0\n}\n\n/**\n * @param {string} value\n * @param {number} begin\n * @param {number} end\n * @return {string}\n */\nexport function substr (value, begin, end) {\n\treturn value.slice(begin, end)\n}\n\n/**\n * @param {string} value\n * @return {number}\n */\nexport function strlen (value) {\n\treturn value.length\n}\n\n/**\n * @param {any[]} value\n * @return {number}\n */\nexport function sizeof (value) {\n\treturn value.length\n}\n\n/**\n * @param {any} value\n * @param {any[]} array\n * @return {any}\n */\nexport function append (value, array) {\n\treturn array.push(value), value\n}\n\n/**\n * @param {string[]} array\n * @param {function} callback\n * @return {string}\n */\nexport function combine (array, callback) {\n\treturn array.map(callback).join('')\n}\n"],"names":["RULESET","DECLARATION","node","value","root","parent","type","props","children","length","line","column","return","fn","cache","memoized","store","WeakMap","cssSupports","window","CSS","supports","Map","arg","has","get","result","call","this","set","isDeclaration","element","attachDeclaration","property","ruleSet","declaration","push","createLogicalPropertiesMiddleware","_a","_b","_c","isPropertySupported","_d","ops","isPropertyValueSupported","withLogicalValues","logicalValues","map","logicalValue","Array","from","values","every","supported","_ltrRuleSet","rtlRuleSet","withDirectionalFallback","ltrFallbackProperty","rtlFallbackProperty","_ruleSet","ltrRuleSet","withFallback","_i","fallbackProperties","op","fallbackProperties_1","fallbackProperty","fallbackTransform","compileOperations","_","__","callback","selector","join","undefined","rules","rule","output","i","serialize","logicalPropertiesMiddleware"],"mappings":"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"}