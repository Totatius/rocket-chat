function module(e,n,t){var o,r,i,l,a,c,u,s,m,d,f,k,p,x,C,E,h,v,b,g,y,I,S,w,T,A,U,M,z,D,B,L,O,_,V,R;t.link("@babel/runtime/helpers/slicedToArray",{default:function(e){o=e}},0),t.link("@babel/runtime/helpers/toConsumableArray",{default:function(e){r=e}},1),t.export({createItemData:function(){return G},RoomMembers:function(){return N}}),t.link("react",{default:function(e){i=e},useCallback:function(e){l=e},useMemo:function(e){a=e},useState:function(e){c=e}},0),t.link("@rocket.chat/fuselage",{Box:function(e){u=e},Icon:function(e){s=e},TextInput:function(e){m=e},Margins:function(e){d=e},Select:function(e){f=e},Throbber:function(e){k=e},ButtonGroup:function(e){p=e},Button:function(e){x=e},Callout:function(e){C=e}},1),t.link("react-window",{FixedSizeList:function(e){E=e},areEqual:function(e){h=e}},2),t.link("react-window-infinite-loader",{default:function(e){v=e}},3),t.link("@rocket.chat/fuselage-hooks",{useResizeObserver:function(e){b=e},useMutableCallback:function(e){g=e},useDebouncedValue:function(e){y=e},useLocalStorage:function(e){I=e}},4),t.link("memoize-one",{default:function(e){S=e}},5),t.link("../../../../../contexts/TranslationContext",{useTranslation:function(e){w=e}},6),t.link("../../../../../contexts/UserContext",{useUserRoom:function(e){T=e}},7),t.link("../../../../../components/VerticalBar",{default:function(e){A=e}},8),t.link("../../../../../contexts/ServerContext",{useMethod:function(e){U=e}},9),t.link("../../../../../hooks/useAsyncState",{AsyncStatePhase:function(e){M=e}},10),t.link("../../../../../contexts/AuthorizationContext",{useAtLeastOnePermission:function(e){z=e}},11),t.link("../../../../../components/ScrollableContentWrapper",{default:function(e){D=e}},12),t.link("../../hooks/useDataWithLoadMore",{useDataWithLoadMore:function(e){B=e}},13),t.link("./components/MemberItem",{MemberItem:function(e){L=e}},14),t.link("../../UserInfo",{default:function(e){O=e}},15),t.link("../InviteUsers/InviteUsers",{default:function(e){_=e}},16),t.link("../AddUsers/AddUsers",{default:function(e){V=e}},17),t.link("../../../providers/ToolboxProvider",{useTabBarClose:function(e){R=e}},18);var G=S((function(e,n,t){return{items:e,onClickView:n,rid:t}})),F=i.memo((function(e){var n=e.data,t=e.index,o=e.style,r=n.onClickView,l=n.items,a=n.rid,c=l[t];return c?i.createElement(N.Option,{index:t,style:o,username:c.username,_id:c._id,rid:a,status:c.status,name:c.name,onClickView:r}):i.createElement(N.Option.Skeleton,{style:o})}),h),N=function(e){var n=e.loading,t=e.members,o=void 0===t?[]:t,r=e.text,l=e.type,c=e.setText,h=e.setType,g=e.onClickClose,y=e.onClickView,I=e.onClickAdd,S=e.onClickInvite,T=e.total,U=e.limit,M=e.error,z=e.loadMoreItems,B=e.rid,L=w(),O=function(e){return!!o[e]},_=a((function(){return[["online",L("Online")],["all",L("All")]]}),[L]),V=b({debounceDelay:100}),R=V.ref,N=V.contentBoxSize,P=(N=void 0===N?{}:N).blockSize,W=void 0===P?780:P,j=G(o,y,B);return i.createElement(i.Fragment,null,i.createElement(A.Header,null,i.createElement(A.Icon,{name:"team"}),i.createElement(A.Text,null,L("Members")),g&&i.createElement(A.Close,{onClick:g})),i.createElement(A.Content,{p:"x12"},i.createElement(u,{display:"flex",flexDirection:"row",p:"x12",flexShrink:0},i.createElement(u,{display:"flex",flexDirection:"row",flexGrow:1,mi:"neg-x4"},i.createElement(d,{inline:"x4"},i.createElement(m,{placeholder:L("Search_by_username"),value:r,onChange:c,addon:i.createElement(s,{name:"magnifier",size:"x20"})}),i.createElement(f,{flexGrow:0,width:"110px",onChange:h,value:l,options:_})))),M&&i.createElement(u,{pi:"x24",pb:"x12"},i.createElement(C,{type:"danger"},M)),n&&i.createElement(u,{pi:"x24",pb:"x12"},i.createElement(k,{size:"x12"})),!n&&o.length<=0&&i.createElement(u,{pi:"x24",pb:"x12"},L("No_results_found")),!n&&o.length>0&&i.createElement(u,{pi:"x24",pb:"x12"},i.createElement(u,{is:"span",color:"info",fontScale:"p1"},L("Showing"),": ",i.createElement(u,{is:"span",color:"default",fontScale:"p2"},o.length)),i.createElement(u,{is:"span",color:"info",fontScale:"p1",mis:"x8"},L("Total"),": ",i.createElement(u,{is:"span",color:"default",fontScale:"p2"},T))),i.createElement(u,{w:"full",h:"full",overflow:"hidden",flexShrink:1,ref:R},!n&&o&&i.createElement(v,{isItemLoaded:O,itemCount:T,loadMoreItems:z},(function(e){var n=e.onItemsRendered,t=e.ref;return(i.createElement(E,{outerElementType:D,className:"List",itemData:j,height:W,itemCount:U,itemSize:36,onItemsRendered:n,ref:t},F))})))),i.createElement(A.Footer,null,i.createElement(p,{stretch:!0},S&&i.createElement(x,{onClick:S,width:"50%"},i.createElement(u,{is:"span",mie:"x4"},i.createElement(s,{name:"link",size:"x20"})),L("Invite_Link")),I&&i.createElement(x,{onClick:I,width:"50%",primary:!0},i.createElement(u,{is:"span",mie:"x4"},i.createElement(s,{name:"user-plus",size:"x20"})),L("Add_users")))))};N.Option=L;var P=function(e){var n=U("getUsersOfRoom");return B(l((function(e){return n.apply(void 0,r(e))}),[n]),e)};t.exportDefault((function(e){var n=e.rid,t=c({}),u=o(t,2),s=u[0],m=u[1],d=R(),f=T(n);f.type=f.t,f.rid=n;var k=I("members-list-type","online"),p=o(k,2),x=p[0],C=p[1],E=c(""),h=o(E,2),v=h[0],b=h[1],S=y(v,500),w=a((function(){return[n,"all"===x,{limit:50},S]}),[n,x,S]),A=P(w),U=A.value,D=A.phase,B=A.more,L=A.error,G=z(a((function(){return["p"===f.t?"add-user-to-any-p-room":"add-user-to-any-c-room","add-user-to-joined-room"]}),[f.t]),n),F=l((function(e){b(e.currentTarget.value)}),[]),W=g((function(e){var n=e.currentTarget.dataset.username;m({tab:"UserInfo",username:n})})),j=g((function(){m({tab:"InviteUsers"})})),q=g((function(){m({tab:"AddUsers"})})),H=l((function(){return m({})}),[m]),J=l((function(e,n){return B((function(t){var r=o(t,4),i=r[0],l=r[1],a=r[3];return[i,l,{skip:e,limit:n-e},a]}),(function(e,n){return{total:n.total,finished:n.records.length<50,records:[].concat(r(e.records),r(n.records))}}))}),[B]);return"UserInfo"===s.tab?i.createElement(O,{rid:n,onClickClose:d,onClickBack:H,username:s.username}):"InviteUsers"===s.tab?i.createElement(_,{onClickClose:d,rid:n,onClickBack:H}):"AddUsers"===s.tab?i.createElement(V,{onClickClose:d,rid:n,onClickBack:H}):i.createElement(N,{rid:n,loading:D===M.LOADING,type:x,text:v,error:L,setType:C,setText:F,members:null==U?void 0:U.records,total:null==U?void 0:U.total,limit:(null==U?void 0:U.finished)||(null==U?void 0:U.records.length)<50?null==U?void 0:U.records.length:(null==U?void 0:U.records.length)+50,onClickClose:d,onClickView:W,onClickAdd:G&&q,onClickInvite:G&&j,loadMoreItems:J})}))}

