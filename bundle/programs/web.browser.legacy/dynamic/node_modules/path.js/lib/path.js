function module(t,e,r){(function(){"use strict";var e,i,n,s,o,p,h;i=t("util-ex/lib/defineProperty"),h=t("util-ex/lib/is/type/string"),s=t("util-ex/lib/is/type/array"),p=t("util-ex/lib/is/type/object"),o=t("util-ex/lib/is/type/null-or-undefined"),n=t("escape-string-regexp"),r.exports=e=function(){var t;function e(t){var e;i(this,"sep",void 0,{get:(e=this,function(){return e._sep}),set:function(t){return function(e){if(h(e)&&1===e.length)return t._sep=e,t.updateSplitPathRe()}}(this)}),i(this,"delimiter",void 0,{get:function(t){return function(){return t._delimiter}}(this),set:function(t){return function(e){if(h(e)&&1===e.length)return t._delimiter=e}}(this)}),i(this,"splitPathReStr",void 0,{get:function(t){return function(){return t._splitPathReStr}}(this),set:function(t){return function(e){if(h(e)&&t._sepRe.test(e))return t._splitPathReStr=e,t.updateSplitPathRe();throw new TypeError('It should be a string and include "&SEP&"')}}(this)}),h(t)?this.sep=t:p(t)&&(h(t.sep)&&(this.sep=t.sep),h(t.delimiter)&&(this.delimiter=t.delimiter),h(t.splitPathReStr)&&(this.splitPathReStr=t.splitPathReStr)),this.splitPathRe||this.updateSplitPathRe()}return e.prototype._sepRe=/&SEP&/g,e.prototype._sep="/",e.prototype._delimiter=":",e.prototype._splitPathReStr="^(&SEP&?|)([\\s\\S]*?)((?:\\.{1,2}|[^&SEP&]+?|)(\\.[^.&SEP&]*|))(?:[&SEP&]*)$",e.isWindows="win32"===process.platform,e.prototype.isWindows=e.isWindows,e.prototype.updateSplitPathRe=function(){return this.splitPathRe=new RegExp(this._splitPathReStr.replace(this._sepRe,n(this._sep)))},e.prototype.splitPath=function(t){return this.splitPathRe.exec(t).slice(1)},e.prototype.toArray=function(t){return t&&t.length?this.trimArray(t.split(this.sep)):[]},e.prototype.normalizeArray=function(t,e){var r,i,n,s;if(n=[],r=0,s=this._sep,o(e)&&t[0]&&t[0].length)switch(t[r][0]){case".":if(e=!0,1===t[++r-1].length)for(;r<t.length&&"."===t[r];)r++;break;case s:if(e=!1,t[++r-1].length===s.length)for(;r<t.length&&t[r]===s;)r++}for(;r<t.length;)(i=t[r])&&"."!==i?(".."===i?n.length&&".."!==n[n.length-1]?n.pop():e&&n.push(".."):n.push(i),r++):r++;return n},e.prototype.trimArray=t=function(t){var e,r,i;for(r=t.length-1,i=0;i<=r&&!t[i];)i++;for(e=r;e>=0&&!t[e];)e--;return 0===i&&e===r?t:i>e?[]:t.slice(i,e+1)},e.prototype.isAbsolute=function(t){return t.charAt(0)===this._sep},e.prototype.normalize=function(t){var e,r;return e=this.isAbsolute(t),r=t&&t[t.length-1]===this._sep,(t=this.normalizeArray(t.split(this._sep),!e).join(this._sep))||e||(t="."),t&&r&&(t+=this._sep),e&&(t=this._sep+t),t},e.prototype.cwd=function(){return"."},e.prototype.resolveArray=function(){var t,e,r,i,n;for(r=[],i=this.cwd(),t=arguments.length;--t>=-1&&!e;)if(n=t>=0?arguments[t]:i,s(n))0===n.length?e=!0:(r=n.filter(Boolean).concat(r),e="."!==n[0]);else if(null!=n){if(!h(n))throw new TypeError("Arguments to path.resolve must be string or array");r=n.split(this._sep).filter(Boolean).concat(r),e=n.charAt(0)===this._sep}return(r=this.normalizeArray(r,!e)).unshift(e?this._sep:"."),r},e.prototype.resolve=function(){var t,e;return"."===(e=(t=this.resolveArray.apply(this,arguments))[0])&&(e=""),t.shift(0,1),e+t.join(this._sep)||"."},e.prototype._join=function(){var t,e,r,i;for(e=[],i=this._sep,t=-1;++t<arguments.length;){if(r=arguments[t],s(r))r=0===r.length?i:r.filter(Boolean).join(i);else{if(null==r)continue;if(!h(r))throw new TypeError("Arguments to path.join must be string or arrays")}r&&e.push(r)}return e},e.prototype.join=function(){var t;return t=this._join.apply(this,arguments),this.normalize(t.join(this._sep))},e.prototype._isSame=function(t,e){return t===e},e.prototype.relative=function(t,e){var r,i,n,s,o,p,h;for(h=this._sep,r=this.resolveArray(t),p=this.resolveArray(e),r.shift(0,1),p.shift(0,1),o=n=Math.min(r.length,p.length),i=-1;++i<n;)if(!this._isSame(r[i],p[i])){o=i;break}for(s=[],i=o;i<r.length;)s.push(".."),i++;return(s=s.concat(p.slice(o))).join(h)},e.prototype.dirname=function(t){var e,r,i;return i=(r=this.splitPath(t))[0],e=r[1],i||e?(e&&(e=e.substr(0,e.length-1)),i+e):"."},e.prototype.basename=function(t,e){var r;return r=this.splitPath(t)[2],e&&r.substr(-1*e.length)===e&&(r=r.substr(0,r.length-e.length)),r},e.prototype.replaceExt=function(t,e){var r,i,n,s;return i=(s=this.splitPath(t))[2],r=s[0]+s[1],(n=s[3])&&i.substr(-1*n.length)===n&&(i=i.substr(0,i.length-n.length)),r+i+e},e.prototype.extname=function(t){return this.splitPath(t)[3]},e.prototype.format=function(t){var e,r,i;if(!p(t))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof t);if(i=t.root||"",!h(i))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof t.root);if(null!=(r=t.dir)&&!h(r))throw new TypeError("'pathObject.dir' must be a string or undefined, not "+typeof t.dir);return e=t.base||"",r?r[r.length-1]!==this._sep&&(r+=this._sep):r="",r+e},e.prototype.parse=function(t){var e;if(!h(t))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof t);if(!(e=this.splitPath(t))||4!==e.length)throw new TypeError("Invalid path '"+t+"'");return e[1]=e[1]||"",e[2]=e[2]||"",e[3]=e[3]||"",{root:e[0],dir:e[0]+e[1].slice(0,-1),base:e[2],ext:e[3],name:e[2].slice(0,e[2].length-e[3].length)}},e.prototype._makeLong=function(t){return t},e}(),e.path=new e}).call(this)}

