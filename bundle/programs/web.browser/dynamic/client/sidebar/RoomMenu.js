function module(e,t,a){let n,l,o,i,r,s,c,u,m,d,x,g,p,b,f,k,h,y,v,M;a.link("@babel/runtime/helpers/extends",{default(e){n=e}},0),a.link("@babel/runtime/helpers/objectWithoutProperties",{default(e){l=e}},1),a.link("@babel/runtime/helpers/objectSpread2",{default(e){o=e}},2),a.link("@rocket.chat/fuselage",{Option(e){i=e},Menu(e){r=e}},0),a.link("@rocket.chat/fuselage-hooks",{useMutableCallback(e){s=e}},1),a.link("react",{default(e){c=e},useMemo(e){u=e}},2),a.link("../contexts/TranslationContext",{useTranslation(e){m=e}},3),a.link("../contexts/SettingsContext",{useSetting(e){d=e}},4),a.link("../contexts/RouterContext",{useRoute(e){x=e}},5),a.link("../../app/ui-utils/client/lib/RoomManager",{RoomManager(e){g=e}},6),a.link("../contexts/ServerContext",{useMethod(e){p=e}},7),a.link("../../app/utils",{roomTypes(e){b=e},UiTextContext(e){f=e}},8),a.link("../contexts/ToastMessagesContext",{useToastMessageDispatch(e){k=e}},9),a.link("../contexts/UserContext",{useUserSubscription(e){h=e}},10),a.link("../contexts/AuthorizationContext",{usePermission(e){y=e}},11),a.link("../contexts/ModalContext",{useSetModal(e){v=e}},12),a.link("../views/admin/apps/WarningModal",{default(e){M=e}},13);const C={f:1,t:1,name:1},R=c.memo(e=>{let{rid:t,unread:a,threadUnread:R,alert:T,roomOpen:_,type:E,cl:U,name:w=""}=e;const S=m(),I=k(),A=v(),F=s(()=>A()),N=x("home"),W=h(t,C),D=d("Favorite_Rooms"),L=null!=(null!=W?W.f:void 0)&&W.f,j=p("hideRoom"),G=p("readMessages"),H=p("unreadMessages"),O=p("toggleFavorite"),P=p("leaveRoom"),z=T||a||R,V=y("leave-c"),Y=y("leave-p"),q=(()=>!("c"===E&&!V)&&(!("p"===E&&!Y)&&!(null!=U&&!U||["d","l"].includes(E))))(),B=s(()=>{const e=async()=>{try{await P(t),_&&N.push({}),g.close(t)}catch(e){I({type:"error",message:e})}F()},a=b.getConfig(E).getUiText(f.LEAVE_WARNING);A(c.createElement(M,{text:S(a,w),confirmText:S("Leave_room"),close:F,cancel:F,cancelText:S("Cancel"),confirm:e}))}),J=s(async()=>{const e=async()=>{try{await j(t)}catch(e){I({type:"error",message:e})}F()},a=b.getConfig(E).getUiText(f.HIDE_WARNING);A(c.createElement(M,{text:S(a,w),confirmText:S("Yes_hide_it"),close:F,cancel:F,cancelText:S("Cancel"),confirm:e}))}),K=s(async()=>{try{if(z)return void(await G(t));if(await H(null,t),null==W)return;g.close(W.t+W.name),N.push({})}catch(e){I({type:"error",message:e})}}),Q=s(async()=>{try{await O(t,!L)}catch(e){I({type:"error",message:e})}}),X=u(()=>o({hideRoom:{label:{label:S("Hide"),icon:"eye-off"},action:J},toggleRead:{label:{label:S(z?"Mark_read":"Mark_unread"),icon:"flag"},action:K}},D&&{toggleFavorite:{label:{label:S(L?"Unfavorite":"Favorite"),icon:L?"star-filled":"star"},action:Q}},{},q&&{leaveRoom:{label:{label:S("Leave_room"),icon:"sign-out"},action:B}}),[S,J,z,K,D,L,Q,q,B]);return c.createElement(r,{"rcx-sidebar-item__menu":!0,mini:!0,"aria-keyshortcuts":"alt",tabIndex:-1,options:X,renderItem:e=>{let{label:{label:t,icon:a}}=e,o=l(e,["label"]);return(c.createElement(i,n({label:t,title:t,icon:a},o)))}})});a.exportDefault(R)}

