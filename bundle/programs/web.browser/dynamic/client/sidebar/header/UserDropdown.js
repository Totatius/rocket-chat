function module(e,t,n){let a,l,i,o,s,r,c,m,u,g,x,p,d,k,f,E,h,v,C,w,S;n.link("react",{default(e){a=e}},0),n.link("@rocket.chat/fuselage",{Box(e){l=e},Margins(e){i=e},Divider(e){o=e},Option(e){s=e}},1),n.link("@rocket.chat/fuselage-hooks",{useMutableCallback(e){r=e}},2),n.link("meteor/meteor",{Meteor(e){c=e}},3),n.link("meteor/kadira:flow-router",{FlowRouter(e){m=e}},4),n.link("../../components/avatar/UserAvatar",{default(e){u=e}},5),n.link("../../components/UserStatus",{UserStatus(e){g=e}},6),n.link("../../contexts/SettingsContext",{useSetting(e){x=e}},7),n.link("../../contexts/TranslationContext",{useTranslation(e){p=e}},8),n.link("../../contexts/RouterContext",{useRoute(e){d=e}},9),n.link("../../hooks/useReactiveValue",{useReactiveValue(e){k=e}},10),n.link("../../contexts/AuthorizationContext",{useAtLeastOnePermission(e){f=e}},11),n.link("../../../app/user-status",{userStatus(e){E=e}},12),n.link("../../../app/callbacks",{callbacks(e){h=e}},13),n.link("../../../app/ui-utils",{popover(e){v=e},AccountBox(e){C=e},modal(e){w=e},SideNav(e){S=e}},14);const b=["view-logs","manage-emoji","manage-sounds","view-statistics","manage-oauth-apps","view-privileged-setting","manage-selected-settings","view-room-administration","view-user-administration","access-setting-permissions","manage-outgoing-integrations","manage-incoming-integrations","manage-own-outgoing-integrations","manage-own-incoming-integrations"],y={marginLeft:"-16px",marginRight:"-16px"},T=(e,t)=>{C.setStatus(e,t),h.run("userStatusManuallySet",e)},D=()=>C.getItems(),R=e=>{let{user:t,onClose:n}=e;const C=p(),R=d("home"),U=d("account"),A=d("admin"),{name:N,username:_,avatarETag:M,status:z,statusText:B}=t,F=x("UI_Use_Real_Name"),L=f(b),O=r(e=>{e.preventDefault(),w.open({title:C("Edit_Status"),content:"editStatus",data:{onSave(){w.close()}},modalClass:"modal",showConfirmButton:!1,showCancelButton:!1,confirmOnEnter:!1}),n()}),j=r(()=>{c.logout(()=>{h.run("afterLogoutCleanUp",t),c.call("logoutCleanUp",t),R.push({}),v.close()})}),I=r(()=>{U.push({}),v.close()}),V=r(()=>{A.push({group:"info"}),v.close()}),G=k(D);return a.createElement(l,{display:"flex",flexDirection:"column",maxWidth:"244px"},a.createElement(l,{display:"flex",flexDirection:"row",mi:"neg-x8"},a.createElement(l,{mie:"x4",mis:"x8"},a.createElement(u,{size:"x36",username:_,etag:M})),a.createElement(l,{mie:"x8",mis:"x4",display:"flex",overflow:"hidden",flexDirection:"column",fontScale:"p1",mb:"neg-x4",flexGrow:1,flexShrink:1},a.createElement(l,{withTruncatedText:!0,w:"full",display:"flex",alignItems:"center",flexDirection:"row"},a.createElement(i,{inline:"x4"},a.createElement(g,{status:z}),a.createElement(l,{is:"span",withTruncatedText:!0,display:"inline-block"},F&&N||_))),a.createElement(l,{color:"hint",withTruncatedText:!0,display:"inline-block"},B||C(z)))),a.createElement(o,{mi:"neg-x16",mb:"x16",borderColor:"muted"}),a.createElement("div",{style:y},a.createElement(l,{pi:"x16",fontScale:"c1",textTransform:"uppercase"},C("Status")),Object.keys(E.list).map(e=>{const l=E.list[e],i=l.localizeName?C(l.name):l.name,o=l.statusType||t.status;return a.createElement(s,{onClick:()=>{T(l.statusType,i),n()}},a.createElement(s.Column,null,a.createElement(g,{status:o})),a.createElement(s.Content,{withTruncatedText:!0,fontScale:"p2"},i))}),a.createElement(s,{icon:"emoji",label:"".concat(C("Custom_Status"),"..."),onClick:O})),(G.length||L)&&a.createElement(a.Fragment,null,a.createElement(o,{mi:"neg-x16",mb:"x16"}),a.createElement("div",{style:y},L&&a.createElement(s,{icon:"customize",label:C("Administration"),onClick:V}),G.map((e,t)=>{let n;return(e.href||e.sideNav)&&(n=()=>{e.href&&(m.go(e.href),v.close()),e.sideNav&&(S.setFlex(e.sideNav),S.openFlex(),v.close())}),a.createElement(s,{icon:e.icon,label:C(e.name),onClick:n,key:t})}))),a.createElement(o,{mi:"neg-x16",mb:"x16"}),a.createElement("div",{style:y},a.createElement(s,{icon:"user",label:C("My_Account"),onClick:I}),a.createElement(s,{icon:"sign-out",label:C("Logout"),onClick:j})))};n.exportDefault(R)}

