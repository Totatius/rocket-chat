function module(e,t,n){let a,s,l,o,r,i,c,u,m,d,g,p,k,h;n.link("@babel/runtime/helpers/objectSpread2",{default(e){a=e}},0),n.link("@babel/runtime/helpers/objectWithoutProperties",{default(e){s=e}},1),n.link("react",{default(e){l=e}},0),n.link("@rocket.chat/fuselage",{Button(e){o=e},FieldGroup(e){r=e},Box(e){i=e},Margins(e){c=e}},1),n.link("@rocket.chat/fuselage-hooks",{useMutableCallback(e){u=e}},2),n.link("./TriggersForm",{default(e){m=e}},3),n.link("../../../contexts/TranslationContext",{useTranslation(e){d=e}},4),n.link("../../../contexts/ServerContext",{useMethod(e){g=e}},5),n.link("../../../hooks/useForm",{useForm(e){p=e}},6),n.link("../../../contexts/RouterContext",{useRoute(e){k=e}},7),n.link("../../../contexts/ToastMessagesContext",{useToastMessageDispatch(e){h=e}},8);const x=e=>{let{onSave:t}=e;const n=h(),x=d(),f=k("omnichannel-triggers"),b=g("livechat:saveTrigger"),{values:v,handlers:y}=p({name:"",description:"",enabled:!0,runOnce:!1,conditions:{name:"page-url",value:""},actions:{name:"",params:{sender:"queue",msg:"",name:""}}}),C=u(async()=>{try{const{actions:{params:{sender:e,msg:l,name:o}}}=v,r=s(v,["actions"]);await b(a({},r,{conditions:[v.conditions],actions:[{name:"send-message",params:a({sender:e,msg:l},"custom"===e&&{name:o})}]})),n({type:"success",message:x("Saved")}),t(),f.push({})}catch(e){n({type:"error",message:e})}}),{name:E}=v;return l.createElement(l.Fragment,null,l.createElement(r,null,l.createElement(m,{values:v,handlers:y})),l.createElement(i,{display:"flex",flexDirection:"row",justifyContent:"space-between",w:"full"},l.createElement(c,{inlineEnd:"x4"},l.createElement(o,{flexGrow:1,primary:!0,onClick:C,disabled:!E},x("Save")))))};n.exportDefault(x)}

