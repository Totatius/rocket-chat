function module(e,t,l){let n,r,i,o,a,s,c,u,k,d,_,m,x,p,f,E,C,v,T;l.link("@babel/runtime/helpers/extends",{default(e){n=e}},0),l.export({InviteUsers:()=>b}),l.link("react",{default(e){r=e},useState(e){i=e},useEffect(e){o=e}},0),l.link("@rocket.chat/fuselage",{Box(e){a=e},Field(e){s=e},UrlInput(e){c=e},Icon(e){u=e},Button(e){k=e},InputBox(e){d=e},Callout(e){_=e}},1),l.link("@rocket.chat/fuselage-hooks",{useMutableCallback(e){m=e}},2),l.link("../../../../../hooks/useClipboardWithToast",{default(e){x=e}},3),l.link("../../../../../components/VerticalBar",{default(e){p=e}},4),l.link("../../../../../contexts/TranslationContext",{useTranslation(e){f=e}},5),l.link("../../../../../contexts/ServerContext",{useEndpoint(e){E=e}},6),l.link("../../../../../hooks/useFormatDateAndTime",{useFormatDateAndTime(e){C=e}},7),l.link("../EditInvite",{default(e){v=e}},8),l.link("../../../providers/ToolboxProvider",{useTabBarClose(e){T=e}},9);const b=e=>{let{onClickBack:t,onClickClose:l,onClickEdit:n,captionText:i,linkText:o,error:m}=e;const E=f(),{copy:C}=x(o);return r.createElement(a,{position:"absolute",h:"full",w:"full"},r.createElement(p.Header,null,t&&r.createElement(p.Back,{onClick:t}),r.createElement(p.Text,null,E("Invite_Users")),l&&r.createElement(p.Close,{onClick:l})),r.createElement(p.ScrollableContent,null,r.createElement(s,null,r.createElement(s.Label,{flexGrow:0},E("Invite_Link")),r.createElement(s.Row,null,void 0===o?r.createElement(d.Skeleton,null):r.createElement(c,{value:o,addon:r.createElement(u,{onClick:C,name:"copy",size:"x16"})}))),r.createElement(a,{pb:"x8",color:"neutral-600",fontScale:"c2"},i),m&&r.createElement(_,{mi:"x24",type:"danger"},m.toString()),r.createElement(a,{pb:"x16"},n&&r.createElement(k,{onClick:n},E("Edit_Invite")))))};l.exportDefault(e=>{let{rid:t,tabBar:l,onClickBack:a}=e;const[s,c]=i(!1),u=C(),k=f(),d=T(),_=m(()=>c(!0)),x=m(()=>c(!1)),p=E("POST","findOrCreateInvite"),[{days:B=1,maxUses:U=0},h]=i({}),w=m(e=>{h(e),c(!1)}),[I,y]=i(),S=m(e=>{if(!e)return"";if(e.expires){const t=new Date(e.expires);if(e.maxUses){const l=e.maxUses-e.uses;return k("Your_invite_link_will_expire_on__date__or_after__usesLeft__uses",{date:u(t),usesLeft:l})}return k("Your_invite_link_will_expire_on__date__",{date:u(t)})}if(e.maxUses){const t=e.maxUses-e.uses;return k("Your_invite_link_will_expire_after__usesLeft__uses",{usesLeft:t})}return k("Your_invite_link_will_never_expire")});return o(()=>{s||(async()=>{try{const e=await p({rid:t,days:B,maxUses:U});y({url:e.url,caption:S(e)})}catch(e){y({error:e})}})()},[p,s,S,t,B,U]),s?r.createElement(v,n({onClickBack:x,linkText:null==I?void 0:I.url,captionText:null==I?void 0:I.caption},{rid:t,tabBar:l,error:null==I?void 0:I.error,setParams:w,days:B,maxUses:U})):r.createElement(b,{error:null==I?void 0:I.error,onClickClose:d,onClickBack:a,onClickEdit:_,linkText:null==I?void 0:I.url,captionText:null==I?void 0:I.caption})})}

