function module(e,t,n){let l,r,o,a,i,s,c,m,d,u,k,p,x,f,E,C,h,b,g,I,v,y,S,w,T,U,A,M,z,D,B,L,O,_;n.export({createItemData:()=>V,RoomMembers:()=>G}),n.link("react",{default(e){l=e},useCallback(e){r=e},useMemo(e){o=e},useState(e){a=e}},0),n.link("@rocket.chat/fuselage",{Box(e){i=e},Icon(e){s=e},TextInput(e){c=e},Margins(e){m=e},Select(e){d=e},Throbber(e){u=e},ButtonGroup(e){k=e},Button(e){p=e},Callout(e){x=e}},1),n.link("react-window",{FixedSizeList(e){f=e},areEqual(e){E=e}},2),n.link("react-window-infinite-loader",{default(e){C=e}},3),n.link("@rocket.chat/fuselage-hooks",{useResizeObserver(e){h=e},useMutableCallback(e){b=e},useDebouncedValue(e){g=e},useLocalStorage(e){I=e}},4),n.link("memoize-one",{default(e){v=e}},5),n.link("../../../../../contexts/TranslationContext",{useTranslation(e){y=e}},6),n.link("../../../../../contexts/UserContext",{useUserRoom(e){S=e}},7),n.link("../../../../../components/VerticalBar",{default(e){w=e}},8),n.link("../../../../../contexts/ServerContext",{useMethod(e){T=e}},9),n.link("../../../../../hooks/useAsyncState",{AsyncStatePhase(e){U=e}},10),n.link("../../../../../contexts/AuthorizationContext",{useAtLeastOnePermission(e){A=e}},11),n.link("../../../../../components/ScrollableContentWrapper",{default(e){M=e}},12),n.link("../../hooks/useDataWithLoadMore",{useDataWithLoadMore(e){z=e}},13),n.link("./components/MemberItem",{MemberItem(e){D=e}},14),n.link("../../UserInfo",{default(e){B=e}},15),n.link("../InviteUsers/InviteUsers",{default(e){L=e}},16),n.link("../AddUsers/AddUsers",{default(e){O=e}},17),n.link("../../../providers/ToolboxProvider",{useTabBarClose(e){_=e}},18);const V=v((e,t,n)=>({items:e,onClickView:t,rid:n})),R=l.memo(e=>{let{data:t,index:n,style:r}=e;const{onClickView:o,items:a,rid:i}=t,s=a[n];return s?l.createElement(G.Option,{index:n,style:r,username:s.username,_id:s._id,rid:i,status:s.status,name:s.name,onClickView:o}):l.createElement(G.Option.Skeleton,{style:r})},E),G=e=>{let{loading:t,members:n=[],text:r,type:a,setText:E,setType:b,onClickClose:g,onClickView:I,onClickAdd:v,onClickInvite:S,total:T,limit:U,error:A,loadMoreItems:z,rid:D}=e;const B=y(),L=e=>!!n[e],O=o(()=>[["online",B("Online")],["all",B("All")]],[B]),{ref:_,contentBoxSize:{blockSize:G=780}={}}=h({debounceDelay:100}),F=V(n,I,D);return l.createElement(l.Fragment,null,l.createElement(w.Header,null,l.createElement(w.Icon,{name:"team"}),l.createElement(w.Text,null,B("Members")),g&&l.createElement(w.Close,{onClick:g})),l.createElement(w.Content,{p:"x12"},l.createElement(i,{display:"flex",flexDirection:"row",p:"x12",flexShrink:0},l.createElement(i,{display:"flex",flexDirection:"row",flexGrow:1,mi:"neg-x4"},l.createElement(m,{inline:"x4"},l.createElement(c,{placeholder:B("Search_by_username"),value:r,onChange:E,addon:l.createElement(s,{name:"magnifier",size:"x20"})}),l.createElement(d,{flexGrow:0,width:"110px",onChange:b,value:a,options:O})))),A&&l.createElement(i,{pi:"x24",pb:"x12"},l.createElement(x,{type:"danger"},A)),t&&l.createElement(i,{pi:"x24",pb:"x12"},l.createElement(u,{size:"x12"})),!t&&n.length<=0&&l.createElement(i,{pi:"x24",pb:"x12"},B("No_results_found")),!t&&n.length>0&&l.createElement(i,{pi:"x24",pb:"x12"},l.createElement(i,{is:"span",color:"info",fontScale:"p1"},B("Showing"),": ",l.createElement(i,{is:"span",color:"default",fontScale:"p2"},n.length)),l.createElement(i,{is:"span",color:"info",fontScale:"p1",mis:"x8"},B("Total"),": ",l.createElement(i,{is:"span",color:"default",fontScale:"p2"},T))),l.createElement(i,{w:"full",h:"full",overflow:"hidden",flexShrink:1,ref:_},!t&&n&&l.createElement(C,{isItemLoaded:L,itemCount:T,loadMoreItems:z},e=>{let{onItemsRendered:t,ref:n}=e;return(l.createElement(f,{outerElementType:M,className:"List",itemData:F,height:G,itemCount:U,itemSize:36,onItemsRendered:t,ref:n},R))}))),l.createElement(w.Footer,null,l.createElement(k,{stretch:!0},S&&l.createElement(p,{onClick:S,width:"50%"},l.createElement(i,{is:"span",mie:"x4"},l.createElement(s,{name:"link",size:"x20"})),B("Invite_Link")),v&&l.createElement(p,{onClick:v,width:"50%",primary:!0},l.createElement(i,{is:"span",mie:"x4"},l.createElement(s,{name:"user-plus",size:"x20"})),B("Add_users")))))};G.Option=D;const F=e=>{const t=T("getUsersOfRoom");return z(r(e=>t(...e),[t]),e)};n.exportDefault(e=>{let{rid:t}=e;const[n,i]=a({}),s=_(),c=S(t);c.type=c.t,c.rid=t;const[m,d]=I("members-list-type","online"),[u,k]=a(""),p=g(u,500),x=o(()=>[t,"all"===m,{limit:50},p],[t,m,p]),{value:f,phase:E,more:C,error:h}=F(x),v=A(o(()=>["p"===c.t?"add-user-to-any-p-room":"add-user-to-any-c-room","add-user-to-joined-room"],[c.t]),t),y=r(e=>{k(e.currentTarget.value)},[]),w=b(e=>{const{username:t}=e.currentTarget.dataset;i({tab:"UserInfo",username:t})}),T=b(()=>{i({tab:"InviteUsers"})}),M=b(()=>{i({tab:"AddUsers"})}),z=r(()=>i({}),[i]),D=r((e,t)=>C(n=>{let[l,r,,o]=n;return[l,r,{skip:e,limit:t-e},o]},(e,t)=>({total:t.total,finished:t.records.length<50,records:[...e.records,...t.records]})),[C]);return"UserInfo"===n.tab?l.createElement(B,{rid:t,onClickClose:s,onClickBack:z,username:n.username}):"InviteUsers"===n.tab?l.createElement(L,{onClickClose:s,rid:t,onClickBack:z}):"AddUsers"===n.tab?l.createElement(O,{onClickClose:s,rid:t,onClickBack:z}):l.createElement(G,{rid:t,loading:E===U.LOADING,type:m,text:u,error:h,setType:d,setText:y,members:null==f?void 0:f.records,total:null==f?void 0:f.total,limit:(null==f?void 0:f.finished)||(null==f?void 0:f.records.length)<50?null==f?void 0:f.records.length:(null==f?void 0:f.records.length)+50,onClickClose:s,onClickView:w,onClickAdd:v&&M,onClickInvite:v&&T,loadMoreItems:D})})}

