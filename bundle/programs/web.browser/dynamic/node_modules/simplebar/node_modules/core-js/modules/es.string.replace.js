function module(r){"use strict";var n=r("../internals/fix-regexp-well-known-symbol-logic"),e=r("../internals/an-object"),t=r("../internals/to-object"),i=r("../internals/to-length"),a=r("../internals/to-integer"),l=r("../internals/require-object-coercible"),c=r("../internals/advance-string-index"),o=r("../internals/regexp-exec-abstract"),s=Math.max,u=Math.min,v=Math.floor,f=/\$([$&'`]|\d\d?|<[^>]*>)/g,g=/\$([$&'`]|\d\d?)/g,d=function(r){return void 0===r?r:String(r)};n("replace",2,(function(r,n,h,E){var p=E.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,x=E.REPLACE_KEEPS_$0,S=p?"$":"$0";return[function e(t,i){var a=l(this),c=null==t?void 0:t[r];return void 0!==c?c.call(t,a,i):n.call(String(a),t,i)},function(r,t){if(!p&&x||"string"==typeof t&&-1===t.indexOf(S)){var l=h(n,r,this,t);if(l.done)return l.value}var v=e(r),f=String(this),g="function"==typeof t;g||(t=String(t));var E=v.global;if(E){var $=v.unicode;v.lastIndex=0}for(var A=[];;){var _=o(v,f),I;if(null===_)break;if(A.push(_),!E)break;""===String(_[0])&&(v.lastIndex=c(f,i(v.lastIndex),$))}for(var P="",k=0,m=0;m<A.length;m++){_=A[m];for(var y=String(_[0]),R=s(u(a(_.index),f.length),0),T=[],U=1;U<_.length;U++)T.push(d(_[U]));var j=_.groups;if(g){var w=[y].concat(T,R,f);void 0!==j&&w.push(j);var C=String(t.apply(void 0,w))}else C=b(y,f,R,T,j,t);R>=k&&(P+=f.slice(k,R)+C,k=R+y.length)}return P+f.slice(k)}];function b(r,e,i,a,l,c){var o=i+r.length,s=a.length,u=g;return void 0!==l&&(l=t(l),u=f),n.call(c,u,(function(n,t){var c;switch(t.charAt(0)){case"$":return"$";case"&":return r;case"`":return e.slice(0,i);case"'":return e.slice(o);case"<":c=l[t.slice(1,-1)];break;default:var u=+t;if(0===u)return n;if(u>s){var f=v(u/10);return 0===f?n:f<=s?void 0===a[f-1]?t.charAt(1):a[f-1]+t.charAt(1):n}c=a[u-1]}return void 0===c?"":c}))}}))}

